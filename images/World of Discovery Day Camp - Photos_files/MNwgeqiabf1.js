if (self.CavalryLogger) { CavalryLogger.start_js(["eGyzq"]); }

__d('ProfileTile.react',['Link.react','Image.react','ImageBlock.react','React','XUIText.react','URI'],(function a(b,c,d,e,f,g){'use strict';var h,i,j=24;h=babelHelpers.inherits(k,c('React').Component);i=h&&h.prototype;k.prototype.render=function(){var l=this.props.size||j,m='https://graph.facebook.com/'+this.props.id+'/picture?width='+l+'&height='+l,n=null;if(this.props.shouldShowProfileCardOnHover)n=new (c('URI'))('/ajax/hovercard/user.php').setQueryData({id:this.props.id});var o=this.props.desc?c('React').createElement(c('XUIText.react'),babelHelpers['extends']({display:'block'},this.props.descProps),this.props.desc):null,p=this.props.name;if(this.props.shouldNameLinkToProfile)p=c('React').createElement(c('Link.react'),babelHelpers['extends']({'data-hovercard':n,href:'/'+this.props.id},this.props.titleProps),p);var q=c('React').createElement(c('Image.react'),babelHelpers['extends']({src:m},this.props.imageProps)),r=this.props.shouldImageLinkToProfile?c('React').createElement(c('Link.react'),{href:'/'+this.props.id},q):q;return (c('React').createElement(c('ImageBlock.react'),this.props.tileProps,r,c('React').createElement('div',null,p,o)));};function k(){h.apply(this,arguments);}k.defaultProps={shouldShowProfileCardOnHover:true,shouldNameLinkToProfile:true};f.exports=k;}),null);
__d("XAutoLoginToGamesDesktopAppController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/login\/gamesdesktopapp\/",{});}),null);
__d('GamesDesktopLogin.react',['cx','fbt','AppInstallLogger','AppInstallLoggerEvents','DOMContainer.react','Form','Link.react','ProfileTile.react','React','XAutoLoginToGamesDesktopAppController','XUISpinner.react','nullthrows'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=120,m=3000;j=babelHelpers.inherits(n,c('React').PureComponent);k=j&&j.prototype;function n(o){k.constructor.call(this,o);this.$GamesDesktopLogin1=null;this.state={step:this.props.userID&&this.props.nonce&&this.props.userName?'continue_as_available':'regular_login_flow'};}n.prototype.componentDidMount=function(){if(this.state.step==='continue_as_available'&&this.props.autoContinue)this.$GamesDesktopLogin1=setTimeout(this.$GamesDesktopLogin2.bind(this),m);};n.prototype.componentWillUnmount=function(){clearTimeout(this.$GamesDesktopLogin1);};n.prototype.$GamesDesktopLogin2=function(){c('Form').post(c('XAutoLoginToGamesDesktopAppController').getURIBuilder().getURI(),{id:this.props.userID,n:this.props.nonce});};n.prototype.render=function(){if(this.state.step==='regular_login_flow')return (this.$GamesDesktopLogin3());if(this.state.step==='continue_as_available'&&this.props.autoContinue){return (c('React').createElement('div',{className:"_4wix"},c('React').createElement('div',{className:"_4wiy"},i._("Signing in as {name}...",[i.param('name',c('React').createElement('span',{className:"_4wj2"},this.props.userName))])),this.$GamesDesktopLogin4(),this.$GamesDesktopLogin5()));}else return (c('React').createElement('div',{className:"_4wix"},c('React').createElement('div',{className:"_4wiy"},i._("Sign in with Facebook to get started.")),this.$GamesDesktopLogin4(),this.state.step==='continue_as_available'?this.$GamesDesktopLogin6():this.$GamesDesktopLogin7(),this.$GamesDesktopLogin5()));};n.prototype.$GamesDesktopLogin3=function(){return (c('React').createElement(c('DOMContainer.react'),null,this.props.regularLoginFlowMarkup));};n.prototype.$GamesDesktopLogin6=function(){return (c('React').createElement('div',{className:"_4wj1",onClick:this.$GamesDesktopLogin8.bind(this),role:'button',tabIndex:'0'},c('React').createElement('span',{className:"_4wiy"},i._("Continue as {name}",[i.param('name',c('React').createElement('span',{className:"_4wj2"},this.props.userName))]))));};n.prototype.$GamesDesktopLogin4=function(){return (c('React').createElement(c('ProfileTile.react'),{id:c('nullthrows')(this.props.userID),imageProps:{className:"_4wiz"},size:l}));};n.prototype.$GamesDesktopLogin5=function(){return (c('React').createElement(c('Link.react'),{className:"_4wj0",onClick:this.$GamesDesktopLogin9.bind(this)},i._("Switch Account")));};n.prototype.$GamesDesktopLogin7=function(){return (c('React').createElement('div',{className:"_4wj1"},c('React').createElement(c('XUISpinner.react'),{background:'light',className:"_4wj4",size:'large'})));};n.prototype.$GamesDesktopLogin8=function(){this.setState({step:'continue_as_in_flight'});this.$GamesDesktopLogin2();};n.prototype.$GamesDesktopLogin9=function(){clearTimeout(this.$GamesDesktopLogin1);this.setState({step:'regular_login_flow'});};f.exports=n;}),null);